["/*ed57d3e409d5f88cbceaf7a1b20d8cc7531b237d",42,270394,"util.Geolocation",230709,43,"[\"Ext.util.GeoLocation\"],config:{autoUpdate:true,frequency:10000,latitude:null,longitude:null,accuracy:null,altitude:null,altitudeAccuracy:null,heading:null,speed:null,timestamp:null,allowHighAccuracy:false,timeout:Infinity,maximumAge:0,provider:undefined},updateMaximumAge:function(){if(this.watchOperation){this.updateWatchOperation()}},updateTimeout:function(){if(this.watchOperation){this.updateWatchOperation()}},updateAllowHighAccuracy:function(){if(this.watchOperation){this.updateWatchOperation()}},applyProvide",294462,33,"Geolocation){if(!a){if(navigator&&navigator.geolocation){a=navigator.geolocation}else{if(window.google){a=google.gears.factory.create(\"beta.geolocation\")}}}}else{this.fireEvent(\"locationerror\",this,false,false,true,\"This device does not support Geolocation.\")}return a},updateAutoUpdate:function(a,b){var c=this,f=c.getProvider();if(b&&f){clearInterval(c.watchOperationId);c.watchOperationId=null}if(a){if(!f){c.fireEvent(\"locationerror\",c,false,false,true,null);return}try{c.updateWatchOperation()}catch(d){c.fireEvent(\"locationerror\",c,false,false,true,d.message)}}},updateWatchOperation:function(){var a=this,b=a.getProvider();if(a.watchOperationId){clearInterval(a.watchOperationId)}function c(){b.getCurrentPosition(Ext.bind(a.fireUpdate,a),Ext.bind(a.fireError,a),a.parseOptions())}c();a.watchOperationId=setInterval(c,this.getFrequency())},updateLocation:function(h,a,c){var b=this,g=b.getProvider();var f=function(i,e){if(e){b.fireError(e)}else{b.fireEvent(\"locationerror\",b,false,false,true,i)}if(h){h.call(a||b,null,b)}};if(!g){f(null);return}try{g.getCurrentPosition(function(e){b.fireUpdate(e);if(h){h.call(a||b,b,b)}},function(e){f(null,e)},c||b.parseOptions())}catch(d){f(d.message)}},fireUpdate:function(a){var b=this,c=a.coords;this.position=a;b.setConfig({timestamp:a.timestamp,latitude:c.latitude,longitude:c.longitude,accuracy:c.accuracy,altitude:c.altitude,altitudeAccuracy:c.altitudeAccuracy,heading:c.heading,speed:c.speed});b.fireEvent(\"locationupdate\",b)},fireError:function(a){var b=a.code;this.fireEvent(\"locationerror\",this,b==a.TIMEOUT,b==a.PERMISSION_DENIED,b==a.POSITION_UNAVAILABLE,a.message==undefined?null:a.message)},parseOptions:function(){var b=this.getTimeout(),a={maximumAge:this.getMaximumAge(),enableHighAccuracy:this.getAllowHighAccuracy()};if(b!==Infinity){a.timeout=b}return a},destroy:function(){this.setAutoUpdate(false)}});Ext.define(\"Ext.Map",288796,33,"map\",requires:[\"Ext.util.Geolocation\"],isMap",270859,41,"map\",useCurrentLocation:false,map:null,geo:null,mapOptions:{}",389022,52,"if(!(window.google||{}).maps){this.setHtml(\"Google Maps API is required\")}",439450,51,"painted:\"doResize\",scope:this});this.innerElement.on(\"touchstart\",\"onTouchStart\",this)}",398720,55,277225,47,236704,33,",children:[{reference:\"mapContainer\",className:Ext.baseCSSPrefix+\"map-container\"}]}]}},onTouchStart:function(a){a.makeUnpreventable()},applyMapOptions:function(a){return Ext.merge({},this.options,a)},updateMapOptions:function(d){var a=this,c=(window.google||{}).maps,b=this.getMap();if(c&&b){b.setOptions(d)}if(d.center&&!a.isPainted()){a.un(\"painted\",\"setMapCenter\",this);a.on(\"painted\",\"setMapCenter\",this,{delay:150,single:true,args:[d.center]})}},getMapOptions:function(){return Ext.merge({},this.options||this.getInitialConfig(\"mapOptions\"))},updateUseCurrentLocation:function(a){this.setGeo(a);if(!a){this.renderMap()}},applyGeo",238991,34,"Ext.util.Geolocation,this.getGeo())},updateGeo:function(b,a){var c={locationupdate:\"onGeoUpdate\",locationerror:\"onGeoError\",scope:this};if(a){a.un(c)}if(b){b.on(c);b.updateLocation()}},doResize:function(){var b=(window.google||{}).maps,a=this.getMap();if(b&&a){b.event.trigger(a,\"resize\")}},renderMap:function(){var d=this,f=(window.google||{}).maps,b=d.mapContainer,a=d.getMapOptions(),e=d.getMap(),c;if(f){if(Ext.os.is.iPad){Ext.merge({navigationControlOptions:{style:f.NavigationControlStyle.ZOOM_PAN}},a)}a=Ext.merge({zoom:12,mapTypeId:f.MapTypeId.ROADMAP},a);if(!a.hasOwnProperty(\"center\")){a.center=new f.LatLng(37.381592,-122.135672)}if(b.dom.firstChild){Ext.fly(b.dom.firstChild).destroy()}if(e){f.event.clearInstanceListeners(e)}d.setMap(new f.Map(b.dom,a));e=d.getMap();c=f.event;c.addListener(e,\"zoom_changed\",Ext.bind(d.onZoomChange,d));c.addListener(e,\"maptypeid_changed\",Ext.bind(d.onTypeChange,d));c.addListener(e,\"center_changed\",Ext.bind(d.onCenterChange,d));d.fireEvent(\"maprender\",d,e)}},onGeoUpdate:function(a){if(a){this.setMapCenter(new google.maps.LatLng(a.getLatitude(),a.getLongitude()))}},onGeoError:Ext.emptyFn,setMapCenter:function(d){var a=this,c=a.getMap(),b=(window.google||{}).maps;if(b){if(!a.isPainted()){a.un(\"painted\",\"setMapCenter\",this);a.on(\"painted\",\"setMapCenter\",this,{delay:150,single:true,args:[d]});return}d=d||new b.LatLng(37.381592,-122.135672);if(d&&!(d instanceof b.LatLng)&&\"longitude\" in d){d=new b.LatLng(d.latitude,d.longitude)}if(!c){a.renderMap();c=a.getMap()}if(c&&d instanceof b.LatLng){c.panTo(d)}else{this.options=Ext.apply(this.getMapOptions(),{center:d})}}},onZoom",177170,32,"MapOptions(),c=this.getMap(),b;b=(c&&c.getZoom)?c.getZoom():a.zoom||10;this.options=Ext.apply(a,{zoom:b});this.fireEvent(\"zoomchange\",this,c,b)},onType",446220,32,"MapOptions(),c=this.getMap(),a;a=(c&&c.getMapTypeId)?c.getMapTypeId():b.mapTypeId;this.options=Ext.apply(b,{mapTypeId:a});this.fireEvent(\"typechange\",this,c,a)},onCenter",446220,32,"MapOptions(),c=this.getMap(),a;a=(c&&c.getCenter)?c.getCenter():b.center;this.options=Ext.apply(b,{center:a});this.fireEvent(\"centerchange\",this,c,a)},d",316732,38,"Geo());var a=this.getMap();if(a&&(window.google||{}).maps){google.maps.event.clearInstanceListeners(a)}this.callParent(",254672,34,"Title",271486,33,270474,184780,455299,615,"User \"+this.accountInfo.firstname+\" s",455915,2248,"view",458172,152,"0",458328,59,458734,34,"a){",454624,42,"cation\",{extend:",457997,35,458061,64,"locationView:\"mainmenuview locationview\",locationMap:\"map[id=locationMap]\"},control:{",454988,48,",locationView:{UpdateLocationCommand:\"onUpdateLocationButtonTap\"},locationMap:{initialize:function(){console.log(\"map initialized\")}}}},accountInfo:0",455073,151,"UpdateLocationButtonTap:function(){console.log(\"onUpdateLocationButtonTap\");uid=this.accountInfo.uid;var e=0,a=0;var c=Ext.getCmp(\"locationMap\");var b=new google.maps.MarkerImage(\"resources/images/point.png\",new google.maps.Size(32,31),new google.maps.Point(0,0),new google.maps.Point(16,31));var d=function(h,g){var f=new google.maps.Marker({map:c.getMap(),icon:b,position:new google.maps.LatLng(h,g)});c.getMap().setZoom(16);google.maps.event.addListener(f,\"click\",function(){console.log(\"Marker Clicked\");f.setMap(null)})};if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(f){e=f.coords.latitude;a=f.coords.longitude;console.log(\"uid: \"+uid+\", location: (\"+e+\",\"+a+\")\");Ext.Ajax.request({url:\"updateLocation.php\",method:\"GET\",params:{uid:uid,latitude:e,longitude:a},success:function(h){var g=Ext.JSON.decode(h.responseText);if(g.status===\"success\"){alert(\"success! Lat:\"+e+\", Long:\"+a);d(e,a);c.getMap().panTo(new google.maps.LatLng(e,a))}else{console.log(\"response failed\")}},failure:function(g){console.log(\"Ajax failure\")}})})}else{alert(\"Geolocation is not supported\")}",454624,40,"Account\",{extend:",457997,35,458061,102,"view",458172,152,"0",458328,41,"console.log(\"onPopulateHomeScreenCommand\"",458528,32,458418,353,"console.log(\"onUpdateAccountCommand\");",458771,2453,463242,338,463581,142,463724,90,463815,74,461873,117,461991,937,464338,50,"view\",requires:[\"Ext.Map\"]",464398,43,"layout:\"vbox",461100,47,"My Map",463185,33,"updateLocationButton\",text:\"Update Location\"}]},{xtype:\"map\",id:\"locationMap\",flex:1,layout:\"fullscreen\",mapOptions:{center:new google.maps.LatLng(33.7782912,-84.3990324),zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP,navigationControl:true,navigationControlOptions:{style:google.maps.NavigationControlStyle.DEFAULT}}}],listeners:[{delegate:\"#updateLocationButton\",event:\"tap\",fn:\"onUpdateButtonTap\"}]},onUpdate",460731,37,"UpdateLocationCommand\"",464303,35,462928,48,460988,107,463088,42,"scrollable:{direction:\"vertical\",directionLock:true}",461101,46,"My",461150,33,"itemId:\"saveButton\",text:\"Save\"",463242,338,463581,142,463724,90,463815,74,463890,448,464528,163,"location",464698,35,"account",464741,245,",\"Location\",\"Account\"],icon:{",465139,39,465441,98,465540,208]